webpackJsonp([0],{"0U9i":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"UserProfile",data:function(){return{users:[]}},computed:{tableHeight:function(){return window.innerHeight-320}},mounted:function(){this.listUsers()},methods:{listUsers:function(){var t=this;this.$axios.get("/admin/user").then(function(e){e&&200===e.status&&(t.users=e.data)})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticStyle:{margin:"18px 0px 0px 18px"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/admin"}}},[t._v("管理中心")]),t._v(" "),a("el-breadcrumb-item",[t._v("用户管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("用户信息")])],1)],1),t._v(" "),a("el-card",{staticStyle:{margin:"18px 2%",width:"95%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.users,stripe:"","max-height":t.tableHeight}},[a("el-table-column",{attrs:{type:"selection",width:"55","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"id",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名",fit:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"真实姓名",fit:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号",fit:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"邮箱",fit:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"sta",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.row.enabled,callback:function(a){t.$set(e.row,"enabled",a)},expression:"scope.row.enabled"}})],1)}}])})],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(o,n,!1,function(t){a("Sofs")},"data-v-ca786772",null);e.default=r.exports},"8zNu":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"BookManagement",components:{EditForm:a("0ZkR").a},data:function(){return{books:[]}},mounted:function(){this.loadBooks()},computed:{tableHeight:function(){return window.innerHeight-320}},methods:{loadBooks:function(){var t=this;this.$axios.get("/books").then(function(e){e&&200===e.status&&(t.books=e.data)})},deleteBook:function(t){var e=this;this.$confirm("此操作将永久删除该书籍, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.post("/delete",{id:t}).then(function(t){t&&200===t.status&&e.loadBooks()})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},editBook:function(t){this.$refs.edit.dialogFormVisible=!0,this.$refs.edit.form={id:t.id,cover:t.cover,title:t.title,author:t.author,date:t.date,press:t.press,abs:t.abs,category:{id:t.category.id.toString(),name:t.category.name}}}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticStyle:{margin:"18px 0px 0px 18px"}},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/admin"}}},[t._v("管理中心")]),t._v(" "),a("el-breadcrumb-item",[t._v("内容管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("图书管理")])],1)],1),t._v(" "),a("edit-form",{ref:"edit",on:{onSubmit:function(e){return t.loadBooks()}}}),t._v(" "),a("el-card",{staticStyle:{margin:"18px 2%",width:"95%"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.books,stripe:"","max-height":t.tableHeight}},[a("el-table-column",{attrs:{type:"selection",width:"55","show-overflow-tooltip":""}}),t._v(" "),a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{attrs:{"label-position":"left",inline:""}},[a("el-form-item",[a("span",[t._v(t._s(e.row.abs))])])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"书名(展开查看摘要)",fit:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"category.name",label:"分类",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"author",label:"作者",fit:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"出版日期",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"press",label:"出版社",fit:""}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.editBook(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),t.deleteBook(e.row.id)}}},[t._v("移除")])]}}])})],1),t._v(" "),a("div",{staticStyle:{margin:"20px 0 20px 0",float:"left"}},[a("el-button",[t._v("取消选择")]),t._v(" "),a("el-button",[t._v("批量删除")])],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(o,n,!1,function(t){a("nrAa")},"data-v-650015c1",null);e.default=r.exports},Sofs:function(t,e){},nrAa:function(t,e){},tqLV:function(t,e,a){var o={"./AdminIndex.vue":"akyf","./AdminMenu.vue":"Ofww","./Header.vue":"JtNw","./content/BookManagement.vue":"8zNu","./user/UserProfile.vue":"0U9i"};function n(t){return a(r(t))}function r(t){var e=o[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(o)},n.resolve=r,t.exports=n,n.id="tqLV"}});
//# sourceMappingURL=0.4ff4c29842d6f37bf8d5.js.map